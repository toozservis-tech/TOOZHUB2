<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TooZ Hub 2 â€“ Developer Admin Dashboard</title>
  <link rel="stylesheet" href="admin.css" />
</head>
<body>
  <!-- PÅ™ihlaÅ¡ovacÃ­ obrazovka -->
  <div id="login-screen" class="hidden">
    <div class="login-container">
      <h1>ğŸš— TooZ Hub 2</h1>
      <h2>Developer Admin Dashboard</h2>
      <form id="login-form" onsubmit="handleAdminLogin(event); return false;">
        <div class="form-group">
          <label for="admin-email">Email:</label>
          <input type="email" id="admin-email" placeholder="vas@email.cz" required>
        </div>
        <div class="form-group">
          <label for="admin-password">Heslo:</label>
          <input type="password" id="admin-password" placeholder="Heslo" required>
        </div>
        <div id="login-error" class="error hidden"></div>
        <button type="submit" class="btn-login">PÅ™ihlÃ¡sit se</button>
      </form>
    </div>
  </div>

  <!-- HlavnÃ­ dashboard -->
  <div id="dashboard-screen" class="hidden">
    <!-- HornÃ­ navigaÄnÃ­ liÅ¡ta -->
    <nav class="navbar">
      <div class="navbar-brand">
        <span class="logo">ğŸš—</span>
        <span class="brand-text">TooZ Hub 2 â€“ Developer Admin</span>
      </div>
      <div class="navbar-stats">
        <span id="summary-users" class="stat-badge">ğŸ‘¥ UÅ¾ivatelÃ©: <strong>0</strong></span>
        <span id="summary-vehicles" class="stat-badge">ğŸš— Vozidla: <strong>0</strong></span>
        <span id="summary-services" class="stat-badge">ğŸ›  Servisy: <strong>0</strong></span>
        <span id="summary-records" class="stat-badge">ğŸ“‹ ZÃ¡znamy: <strong>0</strong></span>
      </div>
      <button id="logout-btn" class="btn-logout" onclick="handleAdminLogout()">OdhlÃ¡sit se</button>
    </nav>

    <!-- HlavnÃ­ layout: Sidebar + Content -->
    <div class="main-container">
      <!-- LevÃ½ sidebar -->
      <aside class="sidebar">
        <nav class="sidebar-nav">
          <button data-section="overview" class="nav-item active">
            <span class="nav-icon">ğŸ“Š</span>
            <span class="nav-text">PÅ™ehled</span>
          </button>
          <button data-section="users" class="nav-item">
            <span class="nav-icon">ğŸ‘¥</span>
            <span class="nav-text">UÅ¾ivatelÃ©</span>
          </button>
          <button data-section="vehicles" class="nav-item">
            <span class="nav-icon">ğŸš—</span>
            <span class="nav-text">Vozidla</span>
          </button>
          <button data-section="services" class="nav-item">
            <span class="nav-icon">ğŸ› </span>
            <span class="nav-text">Servisy</span>
          </button>
          <button data-section="records" class="nav-item">
            <span class="nav-icon">ğŸ“‹</span>
            <span class="nav-text">ZÃ¡znamy</span>
          </button>
          <button data-section="audit" class="nav-item">
            <span class="nav-icon">ğŸ“œ</span>
            <span class="nav-text">Audit log</span>
          </button>
          <div class="nav-divider"></div>
          <button data-section="system" class="nav-item">
            <span class="nav-icon">âš™ï¸</span>
            <span class="nav-text">SystÃ©movÃ© nÃ¡stroje</span>
          </button>
          <button data-section="settings" class="nav-item">
            <span class="nav-icon">ğŸ”§</span>
            <span class="nav-text">NastavenÃ­</span>
          </button>
        </nav>
      </aside>

      <!-- HlavnÃ­ obsah -->
      <main class="content-area">
        <div id="global-error" class="global-error hidden"></div>

        <!-- Sekce: PÅ™ehled -->
        <section id="section-overview" class="content-section active">
          <div class="section-header">
            <h1>PÅ™ehled systÃ©mu</h1>
          </div>
          <div id="overview-stats" class="stats-grid">
            <!-- NaplnÃ­ se JavaScriptem -->
          </div>
          <div class="section-header section-header-secondary">
            <h2>PoslednÃ­ aktivita</h2>
          </div>
          <div id="recent-activity" class="activity-list">
            <!-- NaplnÃ­ se JavaScriptem -->
          </div>
        </section>

        <!-- Sekce: UÅ¾ivatelÃ© -->
        <section id="section-users" class="content-section">
          <div class="section-header">
            <h1>UÅ¾ivatelÃ©</h1>
            <button class="btn-primary" onclick="showUserModal()">+ PÅ™idat uÅ¾ivatele</button>
          </div>
          <div class="section-toolbar">
            <input type="text" id="user-search" placeholder="ğŸ” Hledat uÅ¾ivatele..." class="search-input" />
          </div>
          <div id="users-cards-container" class="cards-grid">
            <!-- NaplnÃ­ se JavaScriptem -->
          </div>
        </section>

        <!-- Sekce: Vozidla -->
        <section id="section-vehicles" class="content-section">
          <div class="section-header">
            <h1>Vozidla</h1>
            <button class="btn-primary" onclick="showVehicleModal()">+ PÅ™idat vozidlo</button>
          </div>
          <div class="section-toolbar">
            <input type="text" id="vehicle-search" placeholder="ğŸ” Hledat vozidlo..." class="search-input" />
          </div>
          <div id="vehicles-cards-container" class="cards-grid">
            <!-- NaplnÃ­ se JavaScriptem -->
          </div>
        </section>

        <!-- Sekce: Servisy -->
        <section id="section-services" class="content-section">
          <div class="section-header">
            <h1>Servisy</h1>
            <button class="btn-primary" onclick="showServiceModal()">+ PÅ™idat servis</button>
          </div>
          <div class="section-toolbar">
            <input type="text" id="service-search" placeholder="ğŸ” Hledat servis..." class="search-input" />
          </div>
          <div id="services-cards-container" class="cards-grid">
            <!-- NaplnÃ­ se JavaScriptem -->
          </div>
        </section>

        <!-- Sekce: ZÃ¡znamy -->
        <section id="section-records" class="content-section">
          <div class="section-header">
            <h1>ServisnÃ­ zÃ¡znamy</h1>
            <button class="btn-primary" onclick="showRecordModal()">+ PÅ™idat zÃ¡znam</button>
          </div>
          <div class="section-toolbar">
            <input type="text" id="record-search" placeholder="ğŸ” Hledat zÃ¡znam..." class="search-input" />
          </div>
          <div id="records-cards-container" class="cards-grid">
            <!-- NaplnÃ­ se JavaScriptem -->
          </div>
        </section>

        <!-- Sekce: Audit log -->
        <section id="section-audit" class="content-section">
          <div class="section-header">
            <h1>Audit log</h1>
          </div>
          <div class="section-toolbar">
            <select id="audit-entity-type" class="filter-select" title="Filtrovat podle typu entity">
              <option value="">VÅ¡echny typy</option>
              <option value="user">UÅ¾ivatelÃ©</option>
              <option value="vehicle">Vozidla</option>
              <option value="service">Servisy</option>
              <option value="service_record">ServisnÃ­ zÃ¡znamy</option>
            </select>
            <select id="audit-action" class="filter-select" title="Filtrovat podle akce">
              <option value="">VÅ¡echny akce</option>
              <option value="CREATE_RESERVATION">VytvoÅ™enÃ­ rezervace</option>
              <option value="CREATE_REMINDER">VytvoÅ™enÃ­ pÅ™ipomÃ­nky</option>
            </select>
            <button class="btn-secondary" onclick="loadAuditLog()">Filtrovat</button>
          </div>
          <div id="audit-log-list" class="audit-log-list">
            <!-- NaplnÃ­ se JavaScriptem -->
          </div>
        </section>

        <!-- Sekce: SystÃ©movÃ© nÃ¡stroje -->
        <section id="section-system" class="content-section">
          <div class="section-header">
            <h1>SystÃ©movÃ© nÃ¡stroje</h1>
          </div>
          <div class="tools-grid">
            <div class="tool-card">
              <h3>ğŸ” Reindexace</h3>
              <p>PÅ™epoÄÃ­tÃ¡ poÄty a validuje vazby v databÃ¡zi</p>
              <button class="btn-secondary" onclick="runReindex()">Spustit reindexaci</button>
              <div id="reindex-result" class="tool-result"></div>
            </div>
            <div class="tool-card">
              <h3>ğŸ”§ Oprava databÃ¡ze</h3>
              <p>Provede zÃ¡kladnÃ­ kontrolu a opravu databÃ¡ze</p>
              <button class="btn-secondary" onclick="runRepair()">Spustit opravu</button>
              <div id="repair-result" class="tool-result"></div>
            </div>
            <div class="tool-card">
              <h3>ğŸ“Š Informace o databÃ¡zi</h3>
              <p>ZobrazÃ­ informace o velikosti, tabulkÃ¡ch a schÃ©matu</p>
              <button class="btn-secondary" onclick="loadDbInfo()">NaÄÃ­st informace</button>
              <div id="db-info-result" class="tool-result"></div>
            </div>
          </div>
        </section>

        <!-- Sekce: NastavenÃ­ -->
        <section id="section-settings" class="content-section">
          <div class="section-header">
            <h1>NastavenÃ­ aplikace</h1>
            <button class="btn-primary" onclick="initDefaultSettings()">Inicializovat vÃ½chozÃ­ nastavenÃ­</button>
          </div>
          
          <div id="settings-loading" class="loading">NaÄÃ­tÃ¡nÃ­ nastavenÃ­...</div>
          <div id="settings-error" class="error hidden"></div>
          
          <div id="settings-content" class="settings-content hidden">
            <!-- Tabs pro kategorie -->
            <div class="settings-tabs">
              <button class="settings-tab active" data-category="general" onclick="showSettingsCategory('general')">
                <span class="tab-icon">âš™ï¸</span> ObecnÃ©
              </button>
              <button class="settings-tab" data-category="security" onclick="showSettingsCategory('security')">
                <span class="tab-icon">ğŸ”’</span> BezpeÄnost
              </button>
              <button class="settings-tab" data-category="database" onclick="showSettingsCategory('database')">
                <span class="tab-icon">ğŸ’¾</span> DatabÃ¡ze
              </button>
              <button class="settings-tab" data-category="server" onclick="showSettingsCategory('server')">
                <span class="tab-icon">ğŸ–¥ï¸</span> Server
              </button>
              <button class="settings-tab" data-category="email" onclick="showSettingsCategory('email')">
                <span class="tab-icon">ğŸ“§</span> E-maily
              </button>
              <button class="settings-tab" data-category="logging" onclick="showSettingsCategory('logging')">
                <span class="tab-icon">ğŸ“</span> LogovÃ¡nÃ­
              </button>
              <button class="settings-tab" data-category="ui" onclick="showSettingsCategory('ui')">
                <span class="tab-icon">ğŸ¨</span> Vzhled
              </button>
              <button class="settings-tab" data-category="api" onclick="showSettingsCategory('api')">
                <span class="tab-icon">ğŸ”Œ</span> API
              </button>
              <button class="settings-tab" data-category="system" onclick="showSettingsCategory('system')">
                <span class="tab-icon">ğŸ–¥ï¸</span> SystÃ©movÃ©
              </button>
            </div>
            
            <!-- Obsah kategoriÃ­ -->
            <div id="settings-categories" class="settings-categories">
              <!-- NaplnÃ­ se JavaScriptem -->
            </div>
            
            <div class="settings-footer">
              <button class="btn-primary" onclick="saveAllSettings()">UloÅ¾it vÅ¡echna nastavenÃ­</button>
              <button class="btn-secondary" onclick="resetSettingsCategory()">Obnovit kategorii</button>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <!-- Modaly pro CRUD operace -->
  <!-- Modal: PÅ™idat/Upravit uÅ¾ivatele -->
  <div id="user-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="user-modal-title">PÅ™idat uÅ¾ivatele</h2>
        <button class="modal-close" onclick="closeUserModal()">&times;</button>
      </div>
      <form id="user-form" onsubmit="saveUser(event); return false;">
        <input type="hidden" id="user-id" />
        <div class="form-group">
          <label for="user-email">Email *</label>
          <input type="email" id="user-email" required />
        </div>
        <div class="form-group">
          <label for="user-name">JmÃ©no</label>
          <input type="text" id="user-name" />
        </div>
        <div class="form-group">
          <label for="user-password">Heslo <span id="user-password-hint">(povinnÃ© pÅ™i vytvoÅ™enÃ­)</span></label>
          <input type="password" id="user-password" />
        </div>
        <div class="form-group">
          <label for="user-role">Role *</label>
          <select id="user-role" required>
            <option value="user">UÅ¾ivatel</option>
            <option value="service">Servis</option>
            <option value="developer_admin">Developer Admin</option>
          </select>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn-secondary" onclick="closeUserModal()">ZruÅ¡it</button>
          <button type="submit" class="btn-primary">UloÅ¾it</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal: PÅ™idat/Upravit vozidlo -->
  <div id="vehicle-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="vehicle-modal-title">PÅ™idat vozidlo</h2>
        <button class="modal-close" onclick="closeVehicleModal()">&times;</button>
      </div>
      <form id="vehicle-form" onsubmit="saveVehicle(event); return false;">
        <input type="hidden" id="vehicle-id" />
        <div class="form-group">
          <label for="vehicle-user-email">Email vlastnÃ­ka *</label>
          <input type="email" id="vehicle-user-email" required />
        </div>
        <div class="form-group">
          <label for="vehicle-nickname">NÃ¡zev</label>
          <input type="text" id="vehicle-nickname" />
        </div>
        <div class="form-group">
          <label for="vehicle-brand">ZnaÄka</label>
          <input type="text" id="vehicle-brand" />
        </div>
        <div class="form-group">
          <label for="vehicle-model">Model</label>
          <input type="text" id="vehicle-model" />
        </div>
        <div class="form-group">
          <label for="vehicle-year">Rok</label>
          <input type="number" id="vehicle-year" min="1900" max="2100" />
        </div>
        <div class="form-group">
          <label for="vehicle-plate">SPZ</label>
          <input type="text" id="vehicle-plate" />
        </div>
        <div class="form-group">
          <label for="vehicle-vin">VIN</label>
          <input type="text" id="vehicle-vin" />
        </div>
        <div class="modal-footer">
          <button type="button" class="btn-secondary" onclick="closeVehicleModal()">ZruÅ¡it</button>
          <button type="submit" class="btn-primary">UloÅ¾it</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal: PÅ™idat/Upravit servis -->
  <div id="service-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="service-modal-title">PÅ™idat servis</h2>
        <button class="modal-close" onclick="closeServiceModal()">&times;</button>
      </div>
      <form id="service-form" onsubmit="saveService(event); return false;">
        <input type="hidden" id="service-id" />
        <div class="form-group">
          <label for="service-email">Email *</label>
          <input type="email" id="service-email" required />
        </div>
        <div class="form-group">
          <label for="service-name">NÃ¡zev *</label>
          <input type="text" id="service-name" required />
        </div>
        <div class="form-group">
          <label for="service-city">MÄ›sto</label>
          <input type="text" id="service-city" />
        </div>
        <div class="form-group">
          <label for="service-phone">Telefon</label>
          <input type="text" id="service-phone" />
        </div>
        <div class="form-group">
          <label for="service-ico">IÄŒO</label>
          <input type="text" id="service-ico" />
        </div>
        <div class="form-group">
          <label for="service-password">Heslo <span id="service-password-hint">(povinnÃ© pÅ™i vytvoÅ™enÃ­)</span></label>
          <input type="password" id="service-password" />
        </div>
        <div class="modal-footer">
          <button type="button" class="btn-secondary" onclick="closeServiceModal()">ZruÅ¡it</button>
          <button type="submit" class="btn-primary">UloÅ¾it</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal: PÅ™idat/Upravit zÃ¡znam -->
  <div id="record-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="record-modal-title">PÅ™idat zÃ¡znam</h2>
        <button class="modal-close" onclick="closeRecordModal()">&times;</button>
      </div>
      <form id="record-form" onsubmit="saveRecord(event); return false;">
        <input type="hidden" id="record-id" />
        <div class="form-group">
          <label for="record-service-id">Servis *</label>
          <select id="record-service-id" required></select>
        </div>
        <div class="form-group">
          <label for="record-vehicle-id">Vozidlo *</label>
          <select id="record-vehicle-id" required></select>
        </div>
        <div class="form-group">
          <label for="record-description">Popis *</label>
          <textarea id="record-description" required></textarea>
        </div>
        <div class="form-group">
          <label for="record-performed-at">Datum provedenÃ­ *</label>
          <input type="datetime-local" id="record-performed-at" required />
        </div>
        <div class="form-group">
          <label for="record-mileage">NÃ¡jezd (km)</label>
          <input type="number" id="record-mileage" min="0" />
        </div>
        <div class="form-group">
          <label for="record-price">Cena (KÄ)</label>
          <input type="number" id="record-price" min="0" step="0.01" />
        </div>
        <div class="form-group">
          <label for="record-category">Kategorie</label>
          <input type="text" id="record-category" />
        </div>
        <div class="form-group">
          <label for="record-note">PoznÃ¡mka</label>
          <textarea id="record-note"></textarea>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn-secondary" onclick="closeRecordModal()">ZruÅ¡it</button>
          <button type="submit" class="btn-primary">UloÅ¾it</button>
        </div>
      </form>
    </div>
  </div>

  <script src="admin.js"></script>
</body>
</html>



<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TooZ Hub 2 â€“ Developer Admin Dashboard</title>
  <link rel="stylesheet" href="admin.css" />
</head>
<body>
  <!-- PÅ™ihlaÅ¡ovacÃ­ obrazovka -->
  <div id="login-screen" class="hidden">
    <div class="login-container">
      <h1>ğŸš— TooZ Hub 2</h1>
      <h2>Developer Admin Dashboard</h2>
      <form id="login-form" onsubmit="handleAdminLogin(event); return false;">
        <div class="form-group">
          <label for="admin-email">Email:</label>
          <input type="email" id="admin-email" placeholder="vas@email.cz" required>
        </div>
        <div class="form-group">
          <label for="admin-password">Heslo:</label>
          <input type="password" id="admin-password" placeholder="Heslo" required>
        </div>
        <div id="login-error" class="error hidden"></div>
        <button type="submit" class="btn-login">PÅ™ihlÃ¡sit se</button>
      </form>
    </div>
  </div>

  <!-- HlavnÃ­ dashboard -->
  <div id="dashboard-screen" class="hidden">
    <!-- HornÃ­ navigaÄnÃ­ liÅ¡ta -->
    <nav class="navbar">
      <div class="navbar-brand">
        <span class="logo">ğŸš—</span>
        <span class="brand-text">TooZ Hub 2 â€“ Developer Admin</span>
      </div>
      <div class="navbar-stats">
        <span id="summary-users" class="stat-badge">ğŸ‘¥ UÅ¾ivatelÃ©: <strong>0</strong></span>
        <span id="summary-vehicles" class="stat-badge">ğŸš— Vozidla: <strong>0</strong></span>
        <span id="summary-services" class="stat-badge">ğŸ›  Servisy: <strong>0</strong></span>
        <span id="summary-records" class="stat-badge">ğŸ“‹ ZÃ¡znamy: <strong>0</strong></span>
      </div>
      <button id="logout-btn" class="btn-logout" onclick="handleAdminLogout()">OdhlÃ¡sit se</button>
    </nav>

    <!-- HlavnÃ­ layout: Sidebar + Content -->
    <div class="main-container">
      <!-- LevÃ½ sidebar -->
      <aside class="sidebar">
        <nav class="sidebar-nav">
          <button data-section="overview" class="nav-item active">
            <span class="nav-icon">ğŸ“Š</span>
            <span class="nav-text">PÅ™ehled</span>
          </button>
          <button data-section="users" class="nav-item">
            <span class="nav-icon">ğŸ‘¥</span>
            <span class="nav-text">UÅ¾ivatelÃ©</span>
          </button>
          <button data-section="vehicles" class="nav-item">
            <span class="nav-icon">ğŸš—</span>
            <span class="nav-text">Vozidla</span>
          </button>
          <button data-section="services" class="nav-item">
            <span class="nav-icon">ğŸ› </span>
            <span class="nav-text">Servisy</span>
          </button>
          <button data-section="records" class="nav-item">
            <span class="nav-icon">ğŸ“‹</span>
            <span class="nav-text">ZÃ¡znamy</span>
          </button>
          <button data-section="audit" class="nav-item">
            <span class="nav-icon">ğŸ“œ</span>
            <span class="nav-text">Audit log</span>
          </button>
          <div class="nav-divider"></div>
          <button data-section="system" class="nav-item">
            <span class="nav-icon">âš™ï¸</span>
            <span class="nav-text">SystÃ©movÃ© nÃ¡stroje</span>
          </button>
          <button data-section="settings" class="nav-item">
            <span class="nav-icon">ğŸ”§</span>
            <span class="nav-text">NastavenÃ­</span>
          </button>
        </nav>
      </aside>

      <!-- HlavnÃ­ obsah -->
      <main class="content-area">
        <div id="global-error" class="global-error hidden"></div>

        <!-- Sekce: PÅ™ehled -->
        <section id="section-overview" class="content-section active">
          <div class="section-header">
            <h1>PÅ™ehled systÃ©mu</h1>
          </div>
          <div id="overview-stats" class="stats-grid">
            <!-- NaplnÃ­ se JavaScriptem -->
          </div>
          <div class="section-header section-header-secondary">
            <h2>PoslednÃ­ aktivita</h2>
          </div>
          <div id="recent-activity" class="activity-list">
            <!-- NaplnÃ­ se JavaScriptem -->
          </div>
        </section>

        <!-- Sekce: UÅ¾ivatelÃ© -->
        <section id="section-users" class="content-section">
          <div class="section-header">
            <h1>UÅ¾ivatelÃ©</h1>
            <button class="btn-primary" onclick="showUserModal()">+ PÅ™idat uÅ¾ivatele</button>
          </div>
          <div class="section-toolbar">
            <input type="text" id="user-search" placeholder="ğŸ” Hledat uÅ¾ivatele..." class="search-input" />
          </div>
          <div id="users-cards-container" class="cards-grid">
            <!-- NaplnÃ­ se JavaScriptem -->
          </div>
        </section>

        <!-- Sekce: Vozidla -->
        <section id="section-vehicles" class="content-section">
          <div class="section-header">
            <h1>Vozidla</h1>
            <button class="btn-primary" onclick="showVehicleModal()">+ PÅ™idat vozidlo</button>
          </div>
          <div class="section-toolbar">
            <input type="text" id="vehicle-search" placeholder="ğŸ” Hledat vozidlo..." class="search-input" />
          </div>
          <div id="vehicles-cards-container" class="cards-grid">
            <!-- NaplnÃ­ se JavaScriptem -->
          </div>
        </section>

        <!-- Sekce: Servisy -->
        <section id="section-services" class="content-section">
          <div class="section-header">
            <h1>Servisy</h1>
            <button class="btn-primary" onclick="showServiceModal()">+ PÅ™idat servis</button>
          </div>
          <div class="section-toolbar">
            <input type="text" id="service-search" placeholder="ğŸ” Hledat servis..." class="search-input" />
          </div>
          <div id="services-cards-container" class="cards-grid">
            <!-- NaplnÃ­ se JavaScriptem -->
          </div>
        </section>

        <!-- Sekce: ZÃ¡znamy -->
        <section id="section-records" class="content-section">
          <div class="section-header">
            <h1>ServisnÃ­ zÃ¡znamy</h1>
            <button class="btn-primary" onclick="showRecordModal()">+ PÅ™idat zÃ¡znam</button>
          </div>
          <div class="section-toolbar">
            <input type="text" id="record-search" placeholder="ğŸ” Hledat zÃ¡znam..." class="search-input" />
          </div>
          <div id="records-cards-container" class="cards-grid">
            <!-- NaplnÃ­ se JavaScriptem -->
          </div>
        </section>

        <!-- Sekce: Audit log -->
        <section id="section-audit" class="content-section">
          <div class="section-header">
            <h1>Audit log</h1>
          </div>
          <div class="section-toolbar">
            <select id="audit-entity-type" class="filter-select" title="Filtrovat podle typu entity">
              <option value="">VÅ¡echny typy</option>
              <option value="user">UÅ¾ivatelÃ©</option>
              <option value="vehicle">Vozidla</option>
              <option value="service">Servisy</option>
              <option value="service_record">ServisnÃ­ zÃ¡znamy</option>
            </select>
            <select id="audit-action" class="filter-select" title="Filtrovat podle akce">
              <option value="">VÅ¡echny akce</option>
              <option value="CREATE_RESERVATION">VytvoÅ™enÃ­ rezervace</option>
              <option value="CREATE_REMINDER">VytvoÅ™enÃ­ pÅ™ipomÃ­nky</option>
            </select>
            <button class="btn-secondary" onclick="loadAuditLog()">Filtrovat</button>
          </div>
          <div id="audit-log-list" class="audit-log-list">
            <!-- NaplnÃ­ se JavaScriptem -->
          </div>
        </section>

        <!-- Sekce: SystÃ©movÃ© nÃ¡stroje -->
        <section id="section-system" class="content-section">
          <div class="section-header">
            <h1>SystÃ©movÃ© nÃ¡stroje</h1>
          </div>
          <div class="tools-grid">
            <div class="tool-card">
              <h3>ğŸ” Reindexace</h3>
              <p>PÅ™epoÄÃ­tÃ¡ poÄty a validuje vazby v databÃ¡zi</p>
              <button class="btn-secondary" onclick="runReindex()">Spustit reindexaci</button>
              <div id="reindex-result" class="tool-result"></div>
            </div>
            <div class="tool-card">
              <h3>ğŸ”§ Oprava databÃ¡ze</h3>
              <p>Provede zÃ¡kladnÃ­ kontrolu a opravu databÃ¡ze</p>
              <button class="btn-secondary" onclick="runRepair()">Spustit opravu</button>
              <div id="repair-result" class="tool-result"></div>
            </div>
            <div class="tool-card">
              <h3>ğŸ“Š Informace o databÃ¡zi</h3>
              <p>ZobrazÃ­ informace o velikosti, tabulkÃ¡ch a schÃ©matu</p>
              <button class="btn-secondary" onclick="loadDbInfo()">NaÄÃ­st informace</button>
              <div id="db-info-result" class="tool-result"></div>
            </div>
          </div>
        </section>

        <!-- Sekce: NastavenÃ­ -->
        <section id="section-settings" class="content-section">
          <div class="section-header">
            <h1>NastavenÃ­ aplikace</h1>
            <button class="btn-primary" onclick="initDefaultSettings()">Inicializovat vÃ½chozÃ­ nastavenÃ­</button>
          </div>
          
          <div id="settings-loading" class="loading">NaÄÃ­tÃ¡nÃ­ nastavenÃ­...</div>
          <div id="settings-error" class="error hidden"></div>
          
          <div id="settings-content" class="settings-content hidden">
            <!-- Tabs pro kategorie -->
            <div class="settings-tabs">
              <button class="settings-tab active" data-category="general" onclick="showSettingsCategory('general')">
                <span class="tab-icon">âš™ï¸</span> ObecnÃ©
              </button>
              <button class="settings-tab" data-category="security" onclick="showSettingsCategory('security')">
                <span class="tab-icon">ğŸ”’</span> BezpeÄnost
              </button>
              <button class="settings-tab" data-category="database" onclick="showSettingsCategory('database')">
                <span class="tab-icon">ğŸ’¾</span> DatabÃ¡ze
              </button>
              <button class="settings-tab" data-category="server" onclick="showSettingsCategory('server')">
                <span class="tab-icon">ğŸ–¥ï¸</span> Server
              </button>
              <button class="settings-tab" data-category="email" onclick="showSettingsCategory('email')">
                <span class="tab-icon">ğŸ“§</span> E-maily
              </button>
              <button class="settings-tab" data-category="logging" onclick="showSettingsCategory('logging')">
                <span class="tab-icon">ğŸ“</span> LogovÃ¡nÃ­
              </button>
              <button class="settings-tab" data-category="ui" onclick="showSettingsCategory('ui')">
                <span class="tab-icon">ğŸ¨</span> Vzhled
              </button>
              <button class="settings-tab" data-category="api" onclick="showSettingsCategory('api')">
                <span class="tab-icon">ğŸ”Œ</span> API
              </button>
              <button class="settings-tab" data-category="system" onclick="showSettingsCategory('system')">
                <span class="tab-icon">ğŸ–¥ï¸</span> SystÃ©movÃ©
              </button>
            </div>
            
            <!-- Obsah kategoriÃ­ -->
            <div id="settings-categories" class="settings-categories">
              <!-- NaplnÃ­ se JavaScriptem -->
            </div>
            
            <div class="settings-footer">
              <button class="btn-primary" onclick="saveAllSettings()">UloÅ¾it vÅ¡echna nastavenÃ­</button>
              <button class="btn-secondary" onclick="resetSettingsCategory()">Obnovit kategorii</button>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <!-- Modaly pro CRUD operace -->
  <!-- Modal: PÅ™idat/Upravit uÅ¾ivatele -->
  <div id="user-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="user-modal-title">PÅ™idat uÅ¾ivatele</h2>
        <button class="modal-close" onclick="closeUserModal()">&times;</button>
      </div>
      <form id="user-form" onsubmit="saveUser(event); return false;">
        <input type="hidden" id="user-id" />
        <div class="form-group">
          <label for="user-email">Email *</label>
          <input type="email" id="user-email" required />
        </div>
        <div class="form-group">
          <label for="user-name">JmÃ©no</label>
          <input type="text" id="user-name" />
        </div>
        <div class="form-group">
          <label for="user-password">Heslo <span id="user-password-hint">(povinnÃ© pÅ™i vytvoÅ™enÃ­)</span></label>
          <input type="password" id="user-password" />
        </div>
        <div class="form-group">
          <label for="user-role">Role *</label>
          <select id="user-role" required>
            <option value="user">UÅ¾ivatel</option>
            <option value="service">Servis</option>
            <option value="developer_admin">Developer Admin</option>
          </select>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn-secondary" onclick="closeUserModal()">ZruÅ¡it</button>
          <button type="submit" class="btn-primary">UloÅ¾it</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal: PÅ™idat/Upravit vozidlo -->
  <div id="vehicle-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="vehicle-modal-title">PÅ™idat vozidlo</h2>
        <button class="modal-close" onclick="closeVehicleModal()">&times;</button>
      </div>
      <form id="vehicle-form" onsubmit="saveVehicle(event); return false;">
        <input type="hidden" id="vehicle-id" />
        <div class="form-group">
          <label for="vehicle-user-email">Email vlastnÃ­ka *</label>
          <input type="email" id="vehicle-user-email" required />
        </div>
        <div class="form-group">
          <label for="vehicle-nickname">NÃ¡zev</label>
          <input type="text" id="vehicle-nickname" />
        </div>
        <div class="form-group">
          <label for="vehicle-brand">ZnaÄka</label>
          <input type="text" id="vehicle-brand" />
        </div>
        <div class="form-group">
          <label for="vehicle-model">Model</label>
          <input type="text" id="vehicle-model" />
        </div>
        <div class="form-group">
          <label for="vehicle-year">Rok</label>
          <input type="number" id="vehicle-year" min="1900" max="2100" />
        </div>
        <div class="form-group">
          <label for="vehicle-plate">SPZ</label>
          <input type="text" id="vehicle-plate" />
        </div>
        <div class="form-group">
          <label for="vehicle-vin">VIN</label>
          <input type="text" id="vehicle-vin" />
        </div>
        <div class="modal-footer">
          <button type="button" class="btn-secondary" onclick="closeVehicleModal()">ZruÅ¡it</button>
          <button type="submit" class="btn-primary">UloÅ¾it</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal: PÅ™idat/Upravit servis -->
  <div id="service-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="service-modal-title">PÅ™idat servis</h2>
        <button class="modal-close" onclick="closeServiceModal()">&times;</button>
      </div>
      <form id="service-form" onsubmit="saveService(event); return false;">
        <input type="hidden" id="service-id" />
        <div class="form-group">
          <label for="service-email">Email *</label>
          <input type="email" id="service-email" required />
        </div>
        <div class="form-group">
          <label for="service-name">NÃ¡zev *</label>
          <input type="text" id="service-name" required />
        </div>
        <div class="form-group">
          <label for="service-city">MÄ›sto</label>
          <input type="text" id="service-city" />
        </div>
        <div class="form-group">
          <label for="service-phone">Telefon</label>
          <input type="text" id="service-phone" />
        </div>
        <div class="form-group">
          <label for="service-ico">IÄŒO</label>
          <input type="text" id="service-ico" />
        </div>
        <div class="form-group">
          <label for="service-password">Heslo <span id="service-password-hint">(povinnÃ© pÅ™i vytvoÅ™enÃ­)</span></label>
          <input type="password" id="service-password" />
        </div>
        <div class="modal-footer">
          <button type="button" class="btn-secondary" onclick="closeServiceModal()">ZruÅ¡it</button>
          <button type="submit" class="btn-primary">UloÅ¾it</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal: PÅ™idat/Upravit zÃ¡znam -->
  <div id="record-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="record-modal-title">PÅ™idat zÃ¡znam</h2>
        <button class="modal-close" onclick="closeRecordModal()">&times;</button>
      </div>
      <form id="record-form" onsubmit="saveRecord(event); return false;">
        <input type="hidden" id="record-id" />
        <div class="form-group">
          <label for="record-service-id">Servis *</label>
          <select id="record-service-id" required></select>
        </div>
        <div class="form-group">
          <label for="record-vehicle-id">Vozidlo *</label>
          <select id="record-vehicle-id" required></select>
        </div>
        <div class="form-group">
          <label for="record-description">Popis *</label>
          <textarea id="record-description" required></textarea>
        </div>
        <div class="form-group">
          <label for="record-performed-at">Datum provedenÃ­ *</label>
          <input type="datetime-local" id="record-performed-at" required />
        </div>
        <div class="form-group">
          <label for="record-mileage">NÃ¡jezd (km)</label>
          <input type="number" id="record-mileage" min="0" />
        </div>
        <div class="form-group">
          <label for="record-price">Cena (KÄ)</label>
          <input type="number" id="record-price" min="0" step="0.01" />
        </div>
        <div class="form-group">
          <label for="record-category">Kategorie</label>
          <input type="text" id="record-category" />
        </div>
        <div class="form-group">
          <label for="record-note">PoznÃ¡mka</label>
          <textarea id="record-note"></textarea>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn-secondary" onclick="closeRecordModal()">ZruÅ¡it</button>
          <button type="submit" class="btn-primary">UloÅ¾it</button>
        </div>
      </form>
    </div>
  </div>

  <script src="admin.js"></script>
</body>
</html>
